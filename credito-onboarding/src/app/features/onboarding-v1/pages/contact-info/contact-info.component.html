<div class="contact-info-container">
  <div class="contact-info-content">
    <div class="logo-header">
      <img src="assets/logo_resuelve.png" alt="Resuelve Logo" class="logo" />
    </div>

    <div class="progress-bar">
      <div class="progress-fill" [style.width]="'71%'"></div>
    </div>

    <div class="step-indicator">
      <span class="step-text">Paso 5 de 7</span>
    </div>

    <div class="form-header">
      <h1>Datos de Contactabilidad</h1>
      <p class="subtitle">¿Cómo prefieres que te contactemos?</p>
    </div>

    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
      <div class="form-row">
        <div class="form-group">
          <label for="telefonoCelular">Teléfono Celular <span class="required">*</span></label>
          <input 
            type="tel" 
            id="telefonoCelular" 
            formControlName="telefonoCelular"
            placeholder="Ej: 0991234567"
            [class.error]="telefonoCelular?.invalid && telefonoCelular?.touched"
          />
          @if (telefonoCelular?.invalid && telefonoCelular?.touched) {
            <div class="error-message">
              @if (telefonoCelular?.errors?.['required']) {
                <span>El teléfono celular es requerido</span>
              }
              @if (telefonoCelular?.errors?.['pattern']) {
                <span>Debe ser un número de 10 dígitos</span>
              }
            </div>
          }
        </div>

        <div class="form-group">
          <label for="telefonoFijo">Teléfono Fijo</label>
          <input 
            type="tel" 
            id="telefonoFijo" 
            formControlName="telefonoFijo"
            placeholder="Ej: 022345678"
            [class.error]="telefonoFijo?.invalid && telefonoFijo?.touched"
          />
          @if (telefonoFijo?.invalid && telefonoFijo?.touched && telefonoFijo?.errors?.['pattern']) {
            <div class="error-message">
              <span>Debe ser un número de 7 a 10 dígitos</span>
            </div>
          }
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="correoElectronico">Correo Electrónico <span class="required">*</span></label>
          <input 
            type="email" 
            id="correoElectronico" 
            formControlName="correoElectronico"
            placeholder="ejemplo@correo.com"
            [class.error]="correoElectronico?.invalid && correoElectronico?.touched"
          />
          @if (correoElectronico?.invalid && correoElectronico?.touched) {
            <div class="error-message">
              @if (correoElectronico?.errors?.['required']) {
                <span>El correo electrónico es requerido</span>
              }
              @if (correoElectronico?.errors?.['email']) {
                <span>El correo no es válido</span>
              }
            </div>
          }
        </div>

        <div class="form-group">
          <label for="correoAlterno">Correo Alterno</label>
          <input 
            type="email" 
            id="correoAlterno" 
            formControlName="correoAlterno"
            placeholder="opcional@correo.com"
            [class.error]="correoAlterno?.invalid && correoAlterno?.touched"
          />
          @if (correoAlterno?.invalid && correoAlterno?.touched && correoAlterno?.errors?.['email']) {
            <div class="error-message">
              <span>El correo no es válido</span>
            </div>
          }
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="horarioContacto">Horario preferido <span class="required">*</span></label>
          <select 
            id="horarioContacto" 
            formControlName="horarioContacto"
            [class.error]="horarioContacto?.invalid && horarioContacto?.touched">
            <option value="">Selecciona...</option>
            <option value="manana">Mañana (8:00 - 12:00)</option>
            <option value="tarde">Tarde (12:00 - 17:00)</option>
            <option value="noche">Noche (17:00 - 20:00)</option>
            <option value="cualquiera">Cualquier horario</option>
          </select>
        </div>

        <div class="form-group">
          <label for="preferenciaContacto">Preferencia de contacto <span class="required">*</span></label>
          <select 
            id="preferenciaContacto" 
            formControlName="preferenciaContacto"
            [class.error]="preferenciaContacto?.invalid && preferenciaContacto?.touched">
            <option value="">Selecciona...</option>
            <option value="llamada">Llamada telefónica</option>
            <option value="whatsapp">WhatsApp</option>
            <option value="correo">Correo electrónico</option>
            <option value="sms">Mensaje de texto (SMS)</option>
          </select>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="goBack()">
          Volver
        </button>
        <button type="submit" class="btn-primary" [disabled]="contactForm.invalid">
          Continuar
        </button>
      </div>
    </form>
  </div>
</div>
