<div class="onboarding-container">
  <!-- WELCOME STEP -->
  @if (currentStep() === 'welcome') {
    <app-welcome-v3
      (start)="onWelcomeStart()"
    />
  }

  <!-- IDENTITY STEP -->
  @if (currentStep() === 'identity') {
    <app-identity-v3
      [initialData]="formData().identity"
      (submitForm)="onIdentitySubmit($event)"
      (goBack)="onIdentityBack($event)"
      (cancel)="cancel()"
    />
  }

  <!-- EARLY EVALUATION STEP -->
  @if (currentStep() === 'early-evaluation') {
    <app-early-evaluation-v3
      (accepted)="onEarlyEvaluationAccepted($event)"
      (declined)="onEarlyEvaluationDeclined()"
    />
  }

  <!-- CONTACT INFO STEP -->
  @if (currentStep() === 'contact-info') {
    <app-contact-info-v3
      [initialData]="formData().contactInfo"
      (submitForm)="onContactInfoSubmit($event)"
      (goBack)="onContactInfoBack($event)"
      (cancel)="cancel()"
    />
  }

  <!-- ADDRESS REFERENCES STEP -->
  @if (currentStep() === 'address-references') {
    <app-address-references-v3
      [initialData]="formData().addressReferences"
      (submitForm)="onAddressReferencesSubmit($event)"
      (goBack)="onAddressReferencesBack($event)"
      (cancel)="cancel()"
    />
  }

  <!-- PROCESSING STEP -->
  @if (currentStep() === 'processing') {
    <app-processing-v3
      (complete)="onProcessingComplete()"
    />
  }

  <!-- VERIFICATION STEP -->
  @if (currentStep() === 'verification') {
    <app-verification-v3 />
  }
</div>
