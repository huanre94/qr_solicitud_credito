<div class="processing-container">
  <div class="processing-content">
    <div class="logo-header">
      <img src="assets/logo_resuelve.png" alt="Resuelve Logo" class="logo" />
    </div>

    <div class="processing-header">
      <h1>Procesando tu solicitud</h1>
      <p class="subtitle">Estamos validando tu informaci√≥n en tiempo real</p>
    </div>

    <div class="steps-container">
      @for (step of steps; track $index) {
        <div class="step-item" 
             [class.active]="currentStep() === $index"
             [class.completed]="currentStep() > $index">
          <div class="step-icon">
            <span class="icon">{{ step.icon }}</span>
            @if (currentStep() > $index) {
              <div class="checkmark">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M20 6L9 17L4 12" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            }
          </div>
          
          <div class="step-content">
            <h3 class="step-title">{{ step.title }}</h3>
            <p class="step-subtitle">{{ step.subtitle }}</p>
            
            @if (currentStep() === $index && !isComplete()) {
              <div class="progress-dots">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
              </div>
            }
          </div>
          
          @if ($index < steps.length - 1) {
            <div class="step-connector" [class.active]="currentStep() > $index"></div>
          }
        </div>
      }
    </div>

    @if (isComplete()) {
      <div class="completion-message">
        <div class="success-animation">
          <svg width="80" height="80" viewBox="0 0 80 80">
            <circle cx="40" cy="40" r="38" fill="#10b981" opacity="0.2"/>
            <circle cx="40" cy="40" r="32" fill="#10b981"/>
            <path d="M25 40L35 50L55 30" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <p class="success-text">Redirigiendo a resultados...</p>
      </div>
    }
  </div>
</div>
